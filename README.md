# Тестирование функциональности (README)

Этот проект включает тесты для проверки функциональности различных функций проекта. Тесты распределены в трёх файлах: `test_widget.py`, `test_processing.py` и `test_masks.py`. Ниже приведён обзор каждой группы тестов и их целей.

## Файл `test_widget.py`

Этот файл содержит тесты для функций, связанных с виджетами. Основное внимание уделяется функциональности маскирования номеров карт/счетов и форматированию дат.

### 1. `test_mask_account_card`
- Тестирует функцию `mask_account_card`.
- Проверяются корректные и некорректные входные данные:
  - Маскирование номеров карт и счетов.
  - Проверка вызовов вспомогательных функций `get_mask_card_number` и `get_mask_account` с нужными аргументами.
  - Убеждается в правильной обработке ошибок (например, недостаточной длины номера или отсутствия цифр).
- Использует фикстуру `card_and_account_test_data`.

### 2. `test_get_date`
- Тестирует функцию `get_date`.
- Проверяет преобразование входных строк в нужный формат даты.
- Обработка:
  - Корректных форматов даты.
  - Некорректных случаев (неправильный формат, неверная дата, пустая строка и т.д.).
- Использует фикстуру `date_test_data`.

---

## Файл `test_processing.py`

Этот файл включает тесты, проверяющие основные функции обработки данных, связанные с маскированием, фильтрацией и сортировкой транзакций.

### 1. `test_get_mask_card_number`
- Тестирует функцию `get_mask_card_number`.
- Сценарии:
  - Проверка корректной маски для номеров карт.
  - Проверка выброса ошибок, если некорректные данные: слишком короткий или длинный номер, а также наличие недопустимых символов.

### 2. `test_filter_by_state`
- Тестирует функцию `filter_by_state`.
- Сценарии:
  - Корректная фильтрация транзакций по заданному состоянию (например: `EXECUTED`, `CANCELED`).
  - Возврат пустого списка для состояния, которого нет в транзакциях.

### 3. `test_sort_by_date`
- Тестирует функцию `sort_by_date`.
- Сценарии:
  - Проверка сортировки списка транзакций по дате в порядке возрастания и убывания.
  - Проверка сценария с пустым списком транзакций (ожидается также пустой результат).

---

## Файл `test_masks.py`

Этот файл проверяет маскирующие функции для номеров карт и счетов.

### 1. `test_get_mask_card_number`
- Тестирует функцию `get_mask_card_number`.
- Сценарии:
  - Проверка корректного поведения для разных номеров карт.
  - Проверка выброса ошибок:
    - Если номер карты слишком короткий.
    - Если передаётся строка без цифр или пустое значение.

### 2. `test_get_mask_account`
- Тестирует функцию `get_mask_account`.
- Сценарии:
  - Проверка корректной маски для разных данных.
  - Пограничные случаи (например, минимальная длина строки).
  - Проверка выброса ошибок:
    - Если номер счёта содержит недопустимые символы.
    - Если длина номера слишком короткая.

---

## Запуск тестов

Для запуска тестов используйте команду:

```bash
pytest
```

Убедитесь, что все зависимости установлены, а окружение правильно настроено. Тесты покрывают ключевые сценарии обработки данных, маскирования и валидации, что повышает надёжность и устойчивость проекта.